<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="https://rukminim2.flixcart.com/image/850/1000/kar44280/card-game/d/g/8/mattel-uno-playing-card-game-family-card-multicolour-108-cards-original-imafs92fxfzjfyhe.jpeg?q=20&crop=false">
    <title>UNO Card Game - Quiz Master Edition</title>
</head>
<body>
    <div class="welcome-main">
        <div class="welcome-popup hidden">
          <p>ðŸŽ® Welcome to UNO - THE QUIZMASTER EDITION! ðŸ§ </p>
          <button class="start-button">START GAME</button>
        </div>
        <div class="rule-popup hidden">
          <p class="rule-popup-title">ðŸŽ¯ THE SPECIAL RULES:</p>
          <div class="rules-content-wrapper">
            <p class="rules-intro">GET READY! Only your knowledge of the Teaching-Learning Process will lead you to victory!</p>
            <ul class="rules-list">
              <li>Match cards by color or number to empty your hand.</li>
              <li>You have a chance to escape Action Cards and Wild Cards by answering a simple question.</li>
              <li>BUT if you fail, Follow the card's effect AND Draw one more card.</li>
              <li>To further test your knowledge, answer questions when an Even number card (0, 2, 4, 6, 8) is played. Fail, and you pick 1 more card.</li>
              <li>When you are down to ONE card, Yell "UNO!".</li>
              <li>The first player to empty their hand wins!</li>
            </ul>
          </div>
          <button class="play-button">READY TO PLAY</button>
        </div>
        <div class="name-popup hidden">
          <p>ðŸ‘¤ Enter Your Name:</p>
          <input type="text" class="name-input" placeholder="Your Name" maxlength="20">
          <button class="submit-name-button">SUBMIT</button>
        </div>
    </div>
    
    <div class="game-container">
        <!-- Opponent Section -->
        <div class="cpu-section">
            <div class='cpu-label'> <!-- Parent div with class 'cpu-label' -->
                <p>ðŸ¤– Opponent</p>   <!-- The p tag that JS and CSS target. Initial text. -->
            </div>
            <div class='cpu-box'>
                <div class='cpu-hand'>
                    <img src="images/back.png" alt="">
                    <img src="images/back.png" alt="">
                    <img src="images/back.png" alt="">
                    <img src="images/back.png" alt="">
                    <img src="images/back.png" alt="">
                    <img src="images/back.png" alt="">
                    <img src="images/back.png" alt="">
                </div>
                <div class='cpu-animation hidden'>
                    <img id='cpu-uno' src="images/uno!.png" alt="">
                </div>
            </div>
        </div>

        <!-- Center Play Area -->
        <div class="center-section">
            <div class='play-pile'>
                <div class='play-pile-label'>
                    <p>ðŸŽ¯ Play Pile</p>
                </div>
                <img src="images/blue2.png" alt="">
            </div>
            
            <div class='draw-pile'>
                <div class='draw-pile-label'>
                    <p>ðŸ“š Draw Deck</p>
                </div>
                <img src="images/deck.png" alt="">
            </div>
            
            <img id="draw-card" class='hidden' src="images/back.png" alt="">
        </div>

        <!-- Player Section -->
        <div class="player-section">
            <div class='player-box'>
                <div class='player-hand'>
                    <img src="images/blue9.png" alt="">
                </div>
                <div class='player-animation hidden'>
                    <img id='player-uno' src="images/uno!.png" alt="">
                </div>
            </div>
            <div class='player-label'>
                <p class='player-name-label'>ðŸ‘¤ Player</p>
            </div>
        </div>
    </div>

    <div class='end-of-round hidden'>
        <p class='round'>X won the round!</p>
    </div>
    <div class='end-of-game hidden'>
        <p class='game'>X won the game!</p>
        <button class='play-again'>ðŸŽ® Play Again!</button>
    </div>
    
    <div class='color-picker'>
        <p>ðŸŽ¨ Select a color:</p>
        <div>
            <button class='red'>ðŸ”´ Red</button>
            <button class='green'>ðŸŸ¢ Green</button>
            <button class='blue'>ðŸ”µ Blue</button>
            <button class='yellow'>ðŸŸ¡ Yellow</button>
        </div>
    </div>
    
    <div class='question-popup hidden'>
        <p class='question-text'><span id='question'></span></p>
        <div class='options'>
            <button class='option' data-correct="false">Option 1</button>
            <button class='option' data-correct="false">Option 2</button>
            <button class='option' data-correct="false">Option 3</button>
            <button class='option' data-correct="false">Option 4</button>
        </div>
    </div>
    
    <script src="js/app.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
          const welcomePopup = document.querySelector('.welcome-popup');
          const welcomeMain = document.querySelector('.welcome-main'); // Get welcomeMain

          // Show welcome popup initially. app.js will attach button listeners.
          if (welcomePopup) {
            welcomePopup.classList.remove('hidden');
          }
          // If welcomeMain exists, ensure it's visible initially for the popups.
          // app.js will hide it later via .style.display = 'none' in showNamePopup.
          if (welcomeMain && welcomeMain.classList.contains('hidden')) { // Optional: if it might start hidden
             // welcomeMain.classList.remove('hidden'); // Or ensure it's not display:none
          }
          // The event listeners for startButton, playButton, and submitNameButton
          // that were previously in this inline script are now fully handled by app.js,
          // so they have been removed from here to prevent conflicts.
        });
    </script>
</body>
</html>

<style>
body {
    box-sizing: border-box;
    background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    background-attachment: fixed;
    width: 100vw;
    height: 100%;
    min-height: 100vh;
    margin: 0;
    padding: 0;
    font-family: 'Avenir Next', sans-serif;
    overflow: hidden;
    position: relative;
}

/* Add animated background effect */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(circle at 20% 80%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(0, 234, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(255, 0, 102, 0.05) 0%, transparent 50%);
    animation: backgroundPulse 8s ease-in-out infinite alternate;
    z-index: -1;
}

@keyframes backgroundPulse {
    0% { opacity: 0.3; }
    100% { opacity: 0.7; }
}
</style>